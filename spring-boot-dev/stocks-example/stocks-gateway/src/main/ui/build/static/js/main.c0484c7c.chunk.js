(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{17:function(e,t,n){e.exports=n(31)},23:function(e,t,n){},25:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(15),l=n.n(o),r=(n(22),n(23),n(8)),i=n.n(r),u=n(6),m=(n(25),n(9)),s=n(12),d=n(32),E=n(33),f=n(34),p=n(35),h=n(36),b=function(e){var t={text:"",confidential:!1},n=Object(a.useState)(t),o=Object(u.a)(n,2),l=o[0],r=o[1],i=function(e){var t=e.target,n=t.name,a=t.value;"confidential"===n&&(a=!l.confidential),r(Object(s.a)({},l,Object(m.a)({},n,a)))};return c.a.createElement(d.a,{onSubmit:function(n){n.preventDefault(),l.text&&(e.addNote(l),r(t))}},c.a.createElement(E.a,null,c.a.createElement(f.a,null,"Text"),c.a.createElement(p.a,{type:"text",name:"text",value:l.text,onChange:i})),c.a.createElement(E.a,{check:!0},c.a.createElement(f.a,{check:!0},c.a.createElement(p.a,{type:"checkbox",name:"confidential",checked:l.confidential,onChange:i})," Confidential")),c.a.createElement(h.a,{color:"primary"},"Add new note"))},O=function(e){var t=Object(a.useState)(e.currentNote),n=Object(u.a)(t,2),o=n[0],l=n[1];Object(a.useEffect)((function(){l(e.currentNote)}),[e]);var r=function(e){var t=e.target,n=t.name,a=t.value;"confidential"===n&&(a=!o.confidential),l(Object(s.a)({},o,Object(m.a)({},n,a)))};return c.a.createElement(d.a,{onSubmit:function(t){t.preventDefault(),e.updateNote(o.id,o)}},c.a.createElement(E.a,null,c.a.createElement(f.a,null,"Text"),c.a.createElement(p.a,{type:"text",name:"text",value:o.text,onChange:r})),c.a.createElement(E.a,{check:!0},c.a.createElement(f.a,{check:!0},c.a.createElement(p.a,{type:"checkbox",name:"confidential",checked:o.confidential,onChange:r})," Confidential")),c.a.createElement(h.a,{color:"primary"},"Update note")," ",c.a.createElement(h.a,{color:"secondary",onClick:function(){return e.setEditing(!1)},className:"button muted-button"},"Cancel"))},j=n(37),v=function(e){return c.a.createElement(j.a,{hover:!0,responsive:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Text"),c.a.createElement("th",null,"Confidential"),c.a.createElement("th",null,"Actions"))),c.a.createElement("tbody",null,e.notes.length>0?e.notes.map((function(t){return c.a.createElement("tr",{key:t.id},c.a.createElement("td",null,t.text),c.a.createElement("td",null,t.confidential?"true":"false"),c.a.createElement("td",null,c.a.createElement(h.a,{color:"secondary",onClick:function(){e.editRow(t)}},"Edit")," ",c.a.createElement(h.a,{color:"danger",onClick:function(){return e.deleteNote(t.id)}},"Delete")))})):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:3},"No notes"))))},w=n(38),x=n(39),g=n(40),y=n(41),S=n(16),N=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)({id:0,text:"",confidential:!1}),r=Object(u.a)(l,2),m=r[0],s=r[1],E=Object(a.useState)(!1),f=Object(u.a)(E,2),j=f[0],N=f[1],k=Object(a.useState)(!1),T=Object(u.a)(k,2),C=T[0],F=T[1],R=Object(a.useState)(""),X=Object(u.a)(R,2),K=X[0],A=X[1],D=Object(S.a)(["XSRF-TOKEN"]),J=Object(u.a)(D,1)[0],L=function(){var e,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(fetch("/api/notes"));case 3:return e=n.sent,n.next=6,i.a.awrap(e.json());case 6:t=n.sent,o(t),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(0);case 12:case"end":return n.stop()}}),null,null,[[0,10]])};Object(a.useEffect)((function(){!function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(fetch("/api/user"));case 3:return e=n.sent,n.next=6,i.a.awrap(e.text());case 6:""===(t=n.sent)?(F(!1),A("")):(F(!0),A(t),L()),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(0);case 12:case"end":return n.stop()}}),null,null,[[0,10]])}()}),[]);return c.a.createElement(w.a,null,c.a.createElement(x.a,{id:"jumbotron"},c.a.createElement("h1",null,"CRUD App with Hooks"),C?c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{action:"/logout",method:"POST"},c.a.createElement(p.a,{type:"hidden",name:"_csrf",value:J["XSRF-TOKEN"]}),c.a.createElement("h3",null,"Welcome ",K,"!"),c.a.createElement(h.a,{color:"secondary"},"Logout"))):c.a.createElement(h.a,{onClick:function(){var e=window.location.port?":"+window.location.port:"";window.location.href="//"+window.location.hostname+e+"/private"}},"Login")),C&&c.a.createElement(g.a,null,c.a.createElement(y.a,{lg:"6"},j?c.a.createElement(a.Fragment,null,c.a.createElement("h2",null,"Edit note"),c.a.createElement(O,{editing:j,setEditing:N,currentNote:m,updateNote:function(e,t){N(!1),fetch("/api/notes/".concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":J["XSRF-TOKEN"]},body:JSON.stringify(t)}).then((function(e){L()}))}})):c.a.createElement(a.Fragment,null,c.a.createElement("h2",null,"Add note"),c.a.createElement(b,{addNote:function(e){fetch("/api/notes",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":J["XSRF-TOKEN"]},body:JSON.stringify(e)}).then((function(e){L()}))}}))),c.a.createElement(y.a,{lg:"6"},c.a.createElement("h2",null,"View notes"),c.a.createElement(v,{notes:n,editRow:function(e){N(!0),s({id:e.id,text:e.text,confidential:e.confidential})},deleteNote:function(e){N(!1),fetch("/api/notes/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":J["XSRF-TOKEN"]}}).then((function(){L()}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.c0484c7c.chunk.js.map